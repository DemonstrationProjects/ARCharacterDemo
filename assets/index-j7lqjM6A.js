(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function O(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function f(e){if(e.ep)return;e.ep=!0;const t=O(e);fetch(e.href,t)}})();const L=document.querySelector("#anchor"),E=document.querySelector("#soundButton"),g=document.querySelector("[mindar-image-target]"),y=document.querySelector("#trackedObject"),a=document.getElementById("bgSound"),d=L.object3D,o=y.object3D,r=new THREE.Vector3,m=new THREE.Quaternion,p=1,b=1,S=.1,v=.01;let i=b,u=!1,T=new THREE.Clock,s=null;y.addEventListener("model-loaded",()=>{console.log("The model is loaded!"),o.visible=!1,s=new THREE.AnimationMixer(o);let n=o.children[0].animations;n.length>0?s.clipAction(n[0]).play():console.log("Animation not found")});function A(){a.muted=!1,a.volume=v,a.play(),E.style.display="none"}function P(){if(s){let n=T.getDelta();s.update(n)}}function M(){if(!u)return;d.updateMatrixWorld(),d.getWorldPosition(r),d.getWorldQuaternion(m),o.position.lerp(r,i),o.quaternion.slerp(m,i);let n=o.position.distanceTo(r);n>p?o.position.lerp(r,i):o.position.copy(r),n<=p&&!o.visible&&(o.visible=!0,i=S)}function h(){requestAnimationFrame(h),M(),P()}g.addEventListener("targetFound",()=>{u=!0});g.addEventListener("targetLost",()=>{u=!1,i=b,o.visible=!1});E.addEventListener("click",A);h();
